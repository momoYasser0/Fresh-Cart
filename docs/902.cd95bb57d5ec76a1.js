"use strict";(self.webpackChunkFinal=self.webpackChunkFinal||[]).push([[902],{5902:(M,g,r)=>{r.r(g),r.d(g,{HomeComponent:()=>D});var c=r(6814),u=r(756),p=r(1120),_=r(255),t=r(4769);let h=(()=>{class i{transform(e,s){return e.filter(o=>o.title.toLowerCase().includes(s.toLowerCase()))}static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275pipe=t.Yjl({name:"search",type:i,pure:!0,standalone:!0})}return i})();var l=r(95),f=r(916),v=r(380),x=r(9366),T=r(2425),C=r(2389);function Z(i,a){1&i&&t._UZ(0,"img",9)}function y(i,a){1&i&&t._UZ(0,"img",10)}function S(i,a){1&i&&t._UZ(0,"img",11)}const F=function(i){return["/categorydetails/",i]};function w(i,a){if(1&i&&(t.TgZ(0,"div",14),t._UZ(1,"img",15),t.TgZ(2,"h3",16),t._uU(3),t.qZA()()),2&i){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(6,F,e._id)),t.xp6(1),t.Q6J("src",e.image,t.LSH)("alt",e.name)("title",e.name)("height",200),t.xp6(2),t.Oqu(e.name)}}function A(i,a){1&i&&(t.ynx(0),t.YNc(1,w,4,8,"ng-template",3),t.BQk())}function b(i,a){if(1&i&&(t.TgZ(0,"section",12)(1,"h2"),t._uU(2,"Popular Categories"),t.qZA(),t.TgZ(3,"owl-carousel-o",2),t.YNc(4,A,2,0,"ng-container",13),t.qZA()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("options",e.categoryOptions),t.xp6(1),t.Q6J("ngForOf",e.category)}}function H(i,a){if(1&i&&t._UZ(0,"i",34),2&i){const e=a.$implicit,s=t.oxw().$implicit;t.ekj("rating-color",s.ratingsAverage>=e)}}function J(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"i",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.addFav(o._id))}),t.qZA()}}function L(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.removeFav(o._id))}),t.qZA()}}const N=function(i){return["/details",i]},Y=function(){return[1,2,3,4,5]};function O(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"header",23),t._UZ(3,"img",24),t.TgZ(4,"h3",25),t._uU(5),t.ALo(6,"cuttext"),t.qZA(),t.TgZ(7,"h4",26),t._uU(8),t.qZA(),t.TgZ(9,"div",27)(10,"span"),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"div"),t.YNc(14,H,1,2,"i",28),t.TgZ(15,"span",29),t._uU(16),t.qZA()()()(),t.YNc(17,J,1,0,"i",30),t.YNc(18,L,1,0,"i",31),t.TgZ(19,"footer")(20,"button",32,33),t.NdJ("click",function(){const n=t.CHM(e).$implicit,m=t.MAs(21),d=t.oxw(2);return t.KtG(d.addToCart(n._id,m))}),t._uU(22,"Add to Cart +"),t.qZA()()()()}if(2&i){const e=a.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.VKq(18,N,e._id)),t.xp6(1),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title)("title",e.title),t.xp6(2),t.Oqu(t.Dn7(6,11,e.title,0,2)),t.xp6(3),t.Oqu(e.category.name),t.xp6(3),t.hij("",t.xi3(12,15,e.price,"EGP ")," "),t.xp6(3),t.Q6J("ngForOf",t.DdM(20,Y)),t.xp6(2),t.Oqu(e.ratingsAverage),t.xp6(1),t.Q6J("ngIf",!s.wishListData.includes(e._id)),t.xp6(1),t.Q6J("ngIf",s.wishListData.includes(e._id))}}function Q(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"section",17)(1,"div",18)(2,"h2"),t._uU(3,"Popular Products"),t.qZA(),t.TgZ(4,"input",19),t.NdJ("ngModelChange",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.term=o)}),t.qZA()(),t.YNc(5,O,23,21,"div",20),t.ALo(6,"slice"),t.ALo(7,"search"),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.term),t.xp6(1),t.Q6J("ngForOf",t.Dn7(6,2,t.xi3(7,6,e.products,e.term),0,24))}}let D=(()=>{class i{constructor(e,s,o,n,m,d){this._WishlistService=e,this._ProductsService=s,this._CartService=o,this._ToastrService=n,this._Renderer2=m,this._CategoryService=d,this.term="",this.products=[],this.category=[],this.wishListData=[],this.categoryOptions={loop:!0,mouseDrag:!1,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!0,autoplayTimeout:7e3,autoplaySpeed:1e3,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:4},940:{items:6}},nav:!1},this.mainSliderOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!0,autoplayTimeout:5e3,autoplaySpeed:1e3,navSpeed:700,navText:["",""],responsive:{0:{items:1}},nav:!1}}ngOnInit(){this._ProductsService.getAllProducts().subscribe({next:e=>{this.products=e.data}}),this._CategoryService.getCategories().subscribe({next:e=>{this.category=e.data}}),this._WishlistService.getWishList().subscribe({next:e=>{if("success"==e.status){const s=e.data.map(o=>o._id);this.wishListData=s}},error:e=>{"fail"==e.statusMsg&&this._ToastrService.error(e.message)}})}addToCart(e,s){this._Renderer2.setAttribute(s,"disabled","true"),this._CartService.addProductToCart(e).subscribe({next:o=>{"success"==o.status&&(this._Renderer2.removeAttribute(s,"disabled"),this._ToastrService.success("Product added successfully to your cart"),this._CartService.cartNumber.next(o.numOfCartItems))},error:o=>{this._Renderer2.removeAttribute(s,"disabled")}})}addFav(e){this._WishlistService.addToWishList(e).subscribe({next:s=>{"success"==s.status&&(this._ToastrService.success(s.message),this._WishlistService.FavNumber.next(s.data.length),this.wishListData=s.data)},error:s=>{(s.error.statusMsg="fail")&&this._ToastrService.error(s.error.message)}})}removeFav(e){this._WishlistService.removeItem(e).subscribe({next:s=>{"success"==s.status&&(this._ToastrService.success("Product removed successfuly from your wish List"),this._WishlistService.FavNumber.next(s.data.length),this.wishListData=s.data)},error:s=>{(s.error.statusMsg="fail")&&this._ToastrService.error(s.error.message)}})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(f.M),t.Y36(v.s),t.Y36(x.N),t.Y36(T._W),t.Y36(t.Qsj),t.Y36(C.H))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:11,vars:5,consts:[[1,"row","py-3","main-slider","g-0"],[1,"col-md-9"],[3,"options"],["carouselSlide",""],[1,"col-md-3","h-100"],["src","./assets/imgs/slider-3.jpeg","alt","image Slider 4",1,"w-100",3,"height"],["src","./assets/imgs/slider-1.jpeg","alt","image Slider 5",1,"w-100",3,"height"],["class","py-3 category-slider",4,"ngIf"],["class","products row g-4 py-3",4,"ngIf"],["src","./assets/imgs/slider-image-1.jpeg","alt","image Slider 1","height","400",1,"w-100"],["src","./assets/imgs/slider-image-2.jpeg","alt","image Slider 2","height","400",1,"w-100"],["src","./assets/imgs/slider-image-3.jpeg","alt","image Slider 3","height","400",1,"w-100"],[1,"py-3","category-slider"],[4,"ngFor","ngForOf"],["role","button",3,"routerLink"],[3,"src","alt","title","height"],[1,"text-main","h6"],[1,"products","row","g-4","py-3"],[1,"d-flex","align-items-center","justify-content-between"],["type","search","placeholder","Search...",1,"form-control","w-25",3,"ngModel","ngModelChange"],["class"," col-sm-6  col-md-4 col-lg-3 col-xl-2",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2"],[1,"product"],["role","button",1,"p-2",3,"routerLink"],[1,"mb-2","w-100",3,"src","alt","title"],[1,"h6"],[1,"small","text-main"],[1,"d-flex","justify-content-between"],["class","fas fa-star fa-sm",3,"rating-color",4,"ngFor","ngForOf"],[1,"text-muted"],["class","fa-regular fa-heart fa-2x text-main heart","role","button","title","Add To Your Favourite",3,"click",4,"ngIf"],["class","fas fa-heart fa-2x text-main heart","role","button","title","Remove From Favourite",3,"click",4,"ngIf"],[1,"main-btn","w-75","mx-auto","d-block","mb-1",3,"click"],["btnAdd",""],[1,"fas","fa-star","fa-sm"],["role","button","title","Add To Your Favourite",1,"fa-regular","fa-heart","fa-2x","text-main","heart",3,"click"],["role","button","title","Remove From Favourite",1,"fas","fa-heart","fa-2x","text-main","heart",3,"click"]],template:function(s,o){1&s&&(t.TgZ(0,"section",0)(1,"div",1)(2,"owl-carousel-o",2),t.YNc(3,Z,1,0,"ng-template",3),t.YNc(4,y,1,0,"ng-template",3),t.YNc(5,S,1,0,"ng-template",3),t.qZA()(),t.TgZ(6,"div",4),t._UZ(7,"img",5)(8,"img",6),t.qZA()(),t.YNc(9,b,5,2,"section",7),t.YNc(10,Q,8,9,"section",8)),2&s&&(t.xp6(2),t.Q6J("options",o.mainSliderOptions),t.xp6(5),t.Q6J("height",200),t.xp6(1),t.Q6J("height",200),t.xp6(1),t.Q6J("ngIf",o.category.length),t.xp6(1),t.Q6J("ngIf",o.products.length))},dependencies:[c.ez,c.sg,c.O5,c.OU,c.H9,u.bB,u.Fy,u.Mp,p.rH,_.r,h,l.u5,l.Fj,l.JJ,l.On]})}return i})()}}]);